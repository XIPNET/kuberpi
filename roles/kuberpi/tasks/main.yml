---
# Tasks file for kubernetes cluster instantiation

## Baseline Nodes
- name: Baseline Nodes
  import_tasks: baseline.yml

## Install prometheus node exporter
- name: Install Node Exporter
  import_tasks: nodeexporter.yml

## Setup initial Kubernetes services
- name: Kubernetes Initial Setup
  import_tasks: clustersetup.yml

## Setup loadlanacers HAPRoxy and Heartbeat services
- name: Loadbalancer Setup
  import_tasks: loadbalancersetup.yml

## Setup worker Heartbeat services
- name: Worker Heartbeat Setup
  import_tasks: workersetup.yml

## Kube init on Master1 and export required files to join workers
- name: Master1 Setup
  import_tasks: master1setup.yml

## Kubeadm join for worker nodes
- name: Worker Node Setup
  import_tasks: workersetup.yml

## Kube init on Master2
- name: Master2 Setup
  import_tasks: master2setup.yml
